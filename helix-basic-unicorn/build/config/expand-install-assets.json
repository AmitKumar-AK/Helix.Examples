{
    "Parameters" : {
        "DownloadZip": {
            "Type": "String",
            "Description": "Path to the zip package of WDPs and configs for XP0.",
            "DefaultValue": ""
        },
        "AssetsPath": {
            "Type": "String",
            "Description": "Path where install assets are stored.",
            "DefaultValue": ""
        },
        "ConfigurationsZip": {
            "Type": "String",
            "Description": "Name of the XP0 config files zip contained in the main download zip.",
            "DefaultValue": ""
        }
    },
    "Variables" : {
        "ConfigFilesZipPath": "[joinpath(parameter('AssetsPath'), parameter('ConfigurationsZip'))]"
    },
    "Register" : {
        "Tasks" : {
            "ExpandArchive": "Expand-Archive"
        }
    },
    "Tasks" : {
        "ExpandDownloadZip": {
            "Description": "Unzip the download assets.",
            "Type": "ExpandArchive",
            "Params": {
                "Path": "[parameter('DownloadZip')]",
                "DestinationPath": "[parameter('AssetsPath')]",
                "Force": true
            }
        },
        "ExpandConfigurations": {
            "Description": "Unzip the SIF configurations.",
            "Type": "ExpandArchive",
            "Params": {
                "Path": "[variable('ConfigFilesZipPath')]",
                "DestinationPath": ".",
                "Force": true
            }
        }
    }
}